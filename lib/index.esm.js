import{Box as e,Flex as t,IconButton as i,Text as r}from"@chakra-ui/react";import l,{useReducer as c,useState as n,useEffect as o,useCallback as a,createContext as s,useContext as d}from"react";import{MdCheck as m}from"react-icons/md";const h=({children:t,...i})=>l.createElement(e,{w:"full",h:"full",...i},t),u=({children:e,show:t})=>t?l.createElement(l.Fragment,null,e):null,p=(e,{type:t,step:i})=>{switch(t){case"jump":{const t=Object.keys(e);if(i in e){const r=t.slice(0,t.indexOf(i)+1);t.forEach((t=>{e[t]={isActive:!1,isFinished:!1}})),r.forEach((t=>{e[t]={isActive:!0,isFinished:t!==i}}))}return{...e}}case"setallfinished":return Object.keys(e).forEach((t=>{e[t]={isActive:!0,isFinished:!0}})),{...e};case"reset":return Object.keys(e).forEach((t=>{e[t]={isActive:!1,isFinished:!1}})),{...e}}},f=(e,t=e[0])=>{const i=Object.fromEntries(e.map((e=>[e,{isActive:!1,isFinished:!1}]))),[r,l]=c(p,i),[s,d]=n(t??e[0]),[m,h]=n();o((()=>{t&&l({type:"jump",step:t})}),[t]);const u=a((e=>e===s),[s]),f=a(((e,t,i=!1)=>{u(e)&&!i||(t&&h(t),d(e),l({step:e,type:"jump"}))}),[u]),v=a((()=>{"done"!==s&&(d("done"),l({type:"setallfinished",step:Object.keys(r)}))}),[s]),g=a((()=>{"undone"!==s&&(d("undone"),l({type:"reset",step:Object.keys(r)}))}),[s]);return{step:s,data:m,state:r,reset:g,setData:h,goToStep:f,isStepActive:u,setAllFinished:v}},v=({children:e,...i})=>{const{vertical:r}=k();return l.createElement(t,{gap:5,p:5,flexDir:r?"row":"column",...i},e)},g=s({vertical:!1,circlePlacement:"left",trackGap:"5"}),k=()=>d(g),b=({children:e,vertical:t=!1,circlePlacement:i="left",trackGap:r,...c})=>{const[a,s]=n(t),[d,m]=n(r),[h,u]=n(i);return o((()=>{s(t)}),[t]),o((()=>{m(r)}),[r]),o((()=>{u(i)}),[i]),l.createElement(g.Provider,{value:{vertical:a,circlePlacement:h,trackGap:d}},l.createElement(v,{...c},e))},E=({children:e,...i})=>{const{vertical:r,circlePlacement:c,trackGap:n}=k(),o=r?{flexDir:"column"}:void 0;return l.createElement(t,{gap:n??"2",alignItems:r&&"right"===c?"end":r&&"left"===c?"start":"center",...o,...i},e)},F=({isFinished:t,trackThickness:i=".1em",animate:r,trackBackgroundColor:c,trackForeGroundColor:n})=>{const{vertical:o,circlePlacement:a}=k(),s=o?{w:i}:void 0,d=o?{w:"full",h:t?"full":"0%"}:void 0;return l.createElement(e,{flex:1,rounded:"full",overflow:"hidden",h:i,position:"relative",bg:c,ml:o?"5":void 0,mr:o&&"right"===a?"5":void 0,...s},l.createElement(e,{position:"absolute",left:0,h:"full",w:t?"100%":"0%",bg:n,rounded:"full",transition:"boolean"==typeof r?"all 300ms":r,...d}))},y=({icon:e,label:c,state:n,stepKey:o,animate:a,iconSize:s,isActive:d,iconColor:h,clickable:u,isLoading:p,isInvalid:f,withTrack:v,labelColor:g,isFinished:b,circleSize:E,circleRadius:y,labelFontSize:S,trackThickness:w,circleColorScheme:C,trackBackgroundColor:j,trackForeGroundColor:A})=>{const{circlePlacement:z}=k();let G;return G=n?.[o].isFinished??b?{variant:"solid","aria-label":"step",rounded:y??"full",colorScheme:C??"blue",icon:e?.finished??l.createElement(m,{size:s??20,color:h})}:n?.[o].isActive??d?{variant:"outline","aria-label":"step",rounded:y??"full",icon:f?e?.error:e?.active,colorScheme:f?"red":C??"blue"}:{colorScheme:"gray","aria-label":"step",icon:e?.inactive,rounded:y??"full"},l.createElement(l.Fragment,null,l.createElement(t,{gap:2,onClick:u,alignItems:"center",justifyContent:"space-between",cursor:u?"pointer":"default"},l.createElement(i,{as:"div",_hover:{},_active:{},size:E,isLoading:p,cursor:u?"pointer":"default",order:"right"===z?2:1,...G}),c?.title&&c?.description?l.createElement(t,{flexDir:"column",order:"right"===z?1:2,alignItems:"right"===z?"end":void 0},l.createElement(r,{as:"h2",lineHeight:1,fontWeight:"semibold",fontSize:S?.title,color:g?.title?g?.title:f?"red.600":void 0},c.title),l.createElement(r,{as:"h3",whiteSpace:"nowrap",fontSize:S?.description??"sm",color:g?.description?g?.description:f?"red.600":void 0},c?.description)):c?.title&&l.createElement(r,{as:"h2",lineHeight:1,fontWeight:"semibold",fontSize:S?.title??"md",order:"right"===z?1:2,color:g?.title?g?.title:f?"red.600":void 0},c?.title)),v&&l.createElement(F,{animate:a,isFinished:n?.[o].isFinished??b,trackThickness:w,trackBackgroundColor:j??"gray.100",trackForeGroundColor:A??"blue.500"}))};export{y as Step,b as Stepper,u as StepperBody,h as StepperContent,E as Steps,F as Track,f as useStepper};
//# sourceMappingURL=index.esm.js.map
